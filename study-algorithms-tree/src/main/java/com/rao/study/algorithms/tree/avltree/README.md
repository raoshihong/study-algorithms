````
平衡二叉树

为了解决普通二叉树出现性能最差的数组链表结构，提出了平衡二叉树即AVL数，在AVL树中，任一节点对应的两棵子树的最大高度差为1，因此它也被称为高度平衡树，所以它的时间复杂度为O(logn)

为了保持平衡二叉树的正确性，在对二叉树操作时，如果打破了avl树的平衡,此时需要对相应的子树进行旋转

 
                 
         
  平衡二叉树旋转有四种情况，如何旋转，关键查找在插入或者删除节点时导致最近的一个节点失衡的节点进行旋转
  1. LL型
              LL型的,失衡点的左孩子高度>右孩子高度并且失衡的点的左孩子的左孩子高度>失衡点的左孩子的右孩子高度,对离操作节点导致最近失衡的点进行右旋转
          
                 13 10 20 6 11 3 
                   13                   10
                  /  \                 /  \
                 10  20               6   13
                /  \                 /   /  \
               6    11              3   11  20
              /
             3
             ````
           上面的树在插入节点值为3的节点时，打破了平衡二叉树的约束条件，值为13这个节点的左右子树的最大高度相差大于1 ,所以失衡节点是值为13的这个节点，那么就需要对13这个节点进行右旋转
           步骤：
           1. 节点值9 作为 节点值13的左孩子节点
           2. 节点值13 作为 节点值10 的右孩子节点
        
           ll(t,n13){
                tn (n10) = n13.left // 先保存节点的左子节点
                n13.left = tn.right (n9)
                tn.right.parent = n13
                tn.right = n13
                tn.parent = n13.parent
                n13.parent = tn
           }
  
  2. RR型
                RR型，失衡点的右孩子高度>左孩子的高度,且右孩子的右孩子高度>右孩子的左孩子高度,对离操作节点导致最近失衡的节点进行左旋转
                
                13 10 20 21 19 30
                
                    13                      20
                   /  \                    /  \ 
                  10  20                  13  21
                     / \                  / \   \
                    19  21              10  19  30
                         \
                         30
                 
           上面在插入30这个节点时，导致13这个节点失衡，则需要对13 这个节点进行左旋转
               步骤：
               1. 节点19 作为 节点13的右孩子
               2. 节点13 作为 节点20的左孩子
           rr(t,n13){
            tn (n20) = n13.right
            n13.right = tn.left  //节点19 作为 节点13的右孩子
            tn.left.parent = n13
            tn.left = n13
            tn.parent = n13.parent
            n13.parent = tn
           } 
   
   3.LR型
                LR型,实际就是对上面的两种类型进行结合处理,LR型，将其看成是LL型+RR型  ,先对RR型进行旋转处理,再对LL型进行旋转处理
               13 9 20 8 11 10/12
                
                13
               /  \
              9   20
             /  \
            8   11
               /
              10
           
           在插入节点10或者12时,导致二叉树节点13失去平衡,此时的路径为13 -> 9 -> 11 -> 10  ，13 -> 9构成LL型, 9->11 构成RR型
           步骤:
           1. 先对9 -> 11 -> 10 进行RR旋转 ，可以看成插入10节点后导致9这个节点失去平衡了,所以是对9节点进行左旋
                节点10 作为 节点9的右孩子
                节点9 作为 节点11的左孩子
            旋转如下：
                   13
                  /  \
                 11  20
                /
               9   
              / \    
             8  10   
          
          可以看到LR型经过RR型旋转后，变成了LL型,此时的失衡点为节点13，则对节点13进行右旋
          步骤：
            节点11的右节点 作为 13的左节点
            节点13 作为节点11的右子节点
            
           最终LR型旋转如下
                    11
                   /  \
                  9   13
                 / \   \
                8  10  20
   4.RL型
            RL型,实际就是RR型+LL型,先对LL新进行旋转处理，再按照RR型进行处理
            
            13 10 24 21 25 20/22
                13
               /  \   
              10  24
                 / \
                21 25
                 \
                 22
            在插入20或者22节点时,导致节点13失去平衡,此时的路径为 13 -> 24 -> 21 - > 22 , 13->24 构成RR型, 24->21构成LL型
            步骤：
             先对LL型进行右旋，可以看成是节点22的插入导致节点24的失衡，则失衡点为24，对节点24进行右旋
             节点22 作为 节点24 的左节点
             节点24 作为 节点21 的右节点
             
             旋转结果如下：
                13
               /  \
              10  21
                   \
                   24
                  /  \
                 22  25
            经过LL型旋转后，此时满足RR型，则需要对失衡点13进行左旋
            节点21的左孩子 作为 节点13 的右节点
            节点13 作为 节点21的左节点
            
            旋转结果如下：
                21
               /  \
              13  24
             /    / \
            10   22 25
            
````
    节点删除
    
````
    在平衡二叉树插入节点时,如果有不平衡的地方，那么就会立即进行旋转调整,所以最终整棵树不会出现不平衡的情况,
    但是删除节点是在平衡二叉树平衡的时候进行节点删除,所以在删除某个节点时，其他子节点还是平衡的,但是整棵树可能并不处于平衡,此时就会出现不满足上面四种的情况
    
         21
       /  \
     12    30
     /    /  \
    10  26   34
       / \   / \
     23  27 32 35 
     
   
   此时这棵树是属于平衡的,但是如果删除了10这个节点，就会导致21这个节点的左右子树最大高度差大于1 ,此时需要对21进行旋转调整，但是会发现上面并不满足LR,LL,RL,RR
   其实这种情况可以当做上面LL或者RR的任意一种情况来处理，注：不能当做LR或者RL来处理
   
   下面直接进过RR型进行调整后的结果
   
          21                       30                                                                 
        /  \                      /  \                                                                                       
      12    30                   21  34                                                                         
           /  \                 / \  / \                                                                 
         26   34              12 26 32 35                                                                                                     
        / \   / \               / \                                                                                              
      23  27 32 35             23 27    
      
      为什么不能当做LR或者RL来处理，比如下面,经过RL型的调整,先进行LL调整30为失衡点, 接着会发现此时26任然处于失衡点,再次调整又会恢复到原来的样子
      
           21                    21                               26                                                                                                                            
         /  \                   /  \                             /  \                                                                                        
       12    30                12   26                          21   30                                                                                       
            /  \                   /  \                        /  \   /\                                                    
          26   34                 23  30                      12  23 27 34                                           
         / \   / \                   /  \                               / \       
       23  27 32 35                 27  34                             32 35                                                                                                                                
                                       / \                                                                          
                                      32  35     
     
     
     
    可以参考：https://segmentfault.com/a/1190000019101902?utm_source=tag-newest 
     
                               
                                                                                                                         
````